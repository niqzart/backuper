dotenv: backup.env

variables:  # None -> required, "<value>" -> not required, defaults to <value>
  base_backup_folder: backup
  zip_password:

actions:
  backup-from-pc:
    type: backup  # uses `robocopy /mir`
    source: "."
    target: "./${base_backup_folder}/pc"
    exclude:
      directory_names:  # see robocopy's `/xd` argument
        - .git
        - venv
        - .mypy_cache
        - ${base_backup_folder}
      filename_patterns:  # see robocopy's `/xf` argument
        - "*.whl"
        - "*.tar.gz"
        - "*.7z.*"
    override_permissions: false  # see robocopy's `/b` argument

  backup-from-android:  # uses `adb shell ls` & `adb pull` for robocopy-like backup
    type: from-android
    source: "/sdcard/Pictures"
    target: "${base_backup_folder}/android/pictures"
    filename_regex: "^(?!.trashed).*"  # excludes files in the recycle bin

  create-full-archive:
    type: compress
    source: "./${base_backup_folder}"
    archive_name: ${base_backup_folder}
    volume_size: 30k
    password: ${zip_password}
